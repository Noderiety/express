"use strict";
require('traceur-source-maps').install(require('traceur'));
var trycatch = require('trycatch');
function requestErrorHandler(err, req, res, next) {
  res.writeHead(500);
  res.end(err.stack);
}
function trycatchMiddleware() {
  return (function(req, res, next) {
    console.log('adding trycatch');
    trycatch(next, (function(err) {
      requestErrorHandler(err, req, res, next);
    }));
  });
}
module.exports = trycatchMiddleware;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1pZGRsZXdhcmVzL3RyeWNhdGNoLmVzNi5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBLE1BQU0sQUFBQyxDQUFDLHFCQUFvQixDQUFDLFFBQVEsQUFBQyxDQUFDLE9BQU0sQUFBQyxDQUFDLFNBQVEsQ0FBQyxDQUFDLENBQUM7RUFBSyxDQUFBLFFBQU8sRUFBSSxDQUFBLE9BQU0sQUFBQyxDQUFDLFVBQVMsQ0FBQztBQUU1RixPQUFTLG9CQUFrQixDQUFFLEdBQUUsQ0FBRyxDQUFBLEdBQUUsQ0FBRyxDQUFBLEdBQUUsQ0FBRyxDQUFBLElBQUcsQ0FBRztBQUNqRCxJQUFFLFVBQVUsQUFBQyxDQUFDLEdBQUUsQ0FBQyxDQUFDO0FBQ2xCLElBQUUsSUFBSSxBQUFDLENBQUMsR0FBRSxNQUFNLENBQUMsQ0FBQztBQUNuQjtBQUFBLEFBRUEsT0FBUyxtQkFBaUIsQ0FBQyxBQUFDO0FBQzNCLFNBQU8sU0FBQyxHQUFFLENBQUcsQ0FBQSxHQUFFLENBQUcsQ0FBQSxJQUFHO0FBQ2xCLFVBQU0sSUFBSSxBQUFDLENBQUMsaUJBQWdCLENBQUMsQ0FBQTtBQUMvQixXQUFPLEFBQUMsQ0FBQyxJQUFHLEdBQUcsU0FBQyxHQUFFLENBQU07QUFDcEIsd0JBQWtCLEFBQUMsQ0FBQyxHQUFFLENBQUcsSUFBRSxDQUFHLElBQUUsQ0FBRyxLQUFHLENBQUMsQ0FBQztJQUMxQyxFQUFDLENBQUM7RUFDTCxFQUFDO0FBQ0Y7QUFFQSxLQUFLLFFBQVEsRUFBSSxtQkFBaUIsQ0FBQztBQUNuQyIsImZpbGUiOiJtaWRkbGV3YXJlcy90cnljYXRjaC5qcyIsInNvdXJjZVJvb3QiOiIuLiIsInNvdXJjZXNDb250ZW50IjpbInJlcXVpcmUoJ3RyYWNldXItc291cmNlLW1hcHMnKS5pbnN0YWxsKHJlcXVpcmUoJ3RyYWNldXInKSk7bGV0IHRyeWNhdGNoID0gcmVxdWlyZSgndHJ5Y2F0Y2gnKTtcblxuZnVuY3Rpb24gcmVxdWVzdEVycm9ySGFuZGxlcihlcnIsIHJlcSwgcmVzLCBuZXh0KSB7XG5cdHJlcy53cml0ZUhlYWQoNTAwKTtcblx0cmVzLmVuZChlcnIuc3RhY2spO1xufVxuXG5mdW5jdGlvbiB0cnljYXRjaE1pZGRsZXdhcmUoKSB7XG5cdHJldHVybiAocmVxLCByZXMsIG5leHQpID0+IHtcbiAgICBjb25zb2xlLmxvZygnYWRkaW5nIHRyeWNhdGNoJylcblx0XHR0cnljYXRjaChuZXh0LCAoZXJyKSA9PiB7XG4gICAgICByZXF1ZXN0RXJyb3JIYW5kbGVyKGVyciwgcmVxLCByZXMsIG5leHQpO1xuICAgIH0pO1xuXHR9O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHRyeWNhdGNoTWlkZGxld2FyZTtcbiJdfQ==