"use strict";
require('traceur-source-maps').install(require('traceur'));
var User = require('../models/user'),
    bcrypt = require('bcrypt');
module.exports = (function(user, pass, callback) {
  User.promise.findOne({name: user}).then((function(user) {
    if (!user) {
      return false;
    }
    return bcrypt.promise.compare(pass, user.password).then((function(isAuthenticated) {
      if (!isAuthenticated) {
        return false;
      }
      return true;
    }));
  })).nodeify(callback);
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxpYi9hdXRoLW1vbmdvLmVzNi5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBLE1BQU0sQUFBQyxDQUFDLHFCQUFvQixDQUFDLFFBQVEsQUFBQyxDQUFDLE9BQU0sQUFBQyxDQUFDLFNBQVEsQ0FBQyxDQUFDLENBQUM7RUFBSyxDQUFBLElBQUcsRUFBSSxDQUFBLE9BQU0sQUFBQyxDQUFDLGdCQUFlLENBQUM7QUFDMUYsU0FBSyxFQUFJLENBQUEsT0FBTSxBQUFDLENBQUMsUUFBTyxDQUFDO0FBSzdCLEtBQUssUUFBUSxJQUFJLFNBQUMsSUFBRyxDQUFHLENBQUEsSUFBRyxDQUFHLENBQUEsUUFBTztBQUNuQyxLQUFHLFFBQVEsUUFBUSxBQUFDLENBQUMsQ0FBQyxJQUFHLENBQUcsS0FBRyxDQUFDLENBQUMsS0FDM0IsQUFBQyxFQUFDLFNBQUMsSUFBRztBQUNSLE9BQUksQ0FBQyxJQUFHLENBQUc7QUFDVCxXQUFPLE1BQUksQ0FBQTtJQUNiO0FBQUEsQUFFQSxTQUFPLENBQUEsTUFBSyxRQUFRLFFBQVEsQUFBQyxDQUFDLElBQUcsQ0FBRyxDQUFBLElBQUcsU0FBUyxDQUFDLEtBQzNDLEFBQUMsRUFBQyxTQUFDLGVBQWMsQ0FBTTtBQUN6QixTQUFJLENBQUMsZUFBYyxDQUFHO0FBQ3BCLGFBQU8sTUFBSSxDQUFBO01BQ2I7QUFBQSxBQUdBLFdBQU8sS0FBRyxDQUFBO0lBQ1osRUFBQyxDQUFBO0VBQ0wsRUFBQyxRQUNNLEFBQUMsQ0FBQyxRQUFPLENBQUMsQ0FBQztBQUN0QixDQUFBLENBQUE7QUFBQSIsImZpbGUiOiJsaWIvYXV0aC1tb25nby5qcyIsInNvdXJjZVJvb3QiOiIuLiIsInNvdXJjZXNDb250ZW50IjpbInJlcXVpcmUoJ3RyYWNldXItc291cmNlLW1hcHMnKS5pbnN0YWxsKHJlcXVpcmUoJ3RyYWNldXInKSk7bGV0IFVzZXIgPSByZXF1aXJlKCcuLi9tb2RlbHMvdXNlcicpLFxuICAgIGJjcnlwdCA9IHJlcXVpcmUoJ2JjcnlwdCcpXG5cbi8vIERhdGFiYXNlIHNhbHQ6XG4vLyBjb25zdCBTRUNSRVQgPSAnJDJhJDA0JGJrWk84ZUxvc20wUUF1NEVXZGVFcy4nXG5cbm1vZHVsZS5leHBvcnRzID0gKHVzZXIsIHBhc3MsIGNhbGxiYWNrKSA9PiB7XG4gIFVzZXIucHJvbWlzZS5maW5kT25lKHtuYW1lOiB1c2VyfSlcbiAgICAudGhlbigodXNlcikgPT4ge1xuICAgICAgaWYgKCF1c2VyKSB7XG4gICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gYmNyeXB0LnByb21pc2UuY29tcGFyZShwYXNzLCB1c2VyLnBhc3N3b3JkKVxuICAgICAgICAudGhlbigoaXNBdXRoZW50aWNhdGVkKSA9PiB7XG4gICAgICAgICAgaWYgKCFpc0F1dGhlbnRpY2F0ZWQpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIHJlcS51c2VyID0gdXNlclxuICAgICAgICAgIHJldHVybiB0cnVlXG4gICAgICAgIH0pXG4gICAgfSlcbiAgICAubm9kZWlmeShjYWxsYmFjayk7XG59Il19